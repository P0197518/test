<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <title>采购订单查看(订单别)</title>
    <script src="../boot.js" type="text/javascript"></script>
</head>

<body class="no-skin">
    <div class="main-container ace-save-state" id="main-container">
        <div class="main-content">
            <div class="main-content-inner">
                <div class="page-content">
                    <div class="widget-box">
                        <!-- /.page-header -->
                        <div class="widget-body" id="searchCondation">
                            <div class="widget-main">
                                <div class="search-item">
                                    <label for="name" class="control-label col-sm-0">采购单号:</label>
                                    <input id="caiGouDanHao" name="Fax" class="mini-textbox" textField="distingname" valueField="distingid" />
                                </div>
                                <div class="search-item">
                                    <label for="name" class="control-label col-sm-0">采购类型:</label>
                                    <input id="caiGouZhongLei" class="mini-combobox" textField="text" valueField="value" ondrawcell="false" data='[{value:"0001",text:"计划订单"},{value:"0002",text:"索偿订单"},{value:"0003",text:"加工订单"},{value:"0004",text:"测试订单"},{value:"0004",text:"客户订单"},{value:"0006",text:"样品订单"}]'
                                    />
                                </div>
                                <div class="search-item">
                                    <label for="name" class="control-label col-sm-0">下单日:</label>
                                    <input id="xiaDanRiFrom" name="dateFeom" value="" class="mini-datepicker" datePickerTo="dateTo" format="yyyy/MM/dd" allowInput="true" showTime="false" showTodayButton="true" onenter="search()" />
                                    <label for="toDate" class="control-label"> ～ </label>
                                    <input id="xiaDanRiTo" name="dateTo" value="" class="mini-datepicker" datePickerFrom="dateFeom" showTime="false" format="yyyy/MM/dd" allowInput="true" showTodayButton="true" onenter="search()" />
                                </div>

                                <div class="search-item">
                                    <label for="name" class="control-label col-sm-0">供应商:</label>
                                    <input id="gongYingShangNo" class="mini-textbox" style="width:50px;" vtype="half:40" maxlength=40 />
                                    <a class="mini-button btn btn-info btn-round" type="button" onclick="customChoose()" onenter="onOk()" />
                                    <i class="ace-icon fa fa-search"> </i></a>
                                    <input name="gongYingShang" id="supplierName" class="mini-textbox" value="" enabled="false" vtype="maxLength:30" onenter="onOk()" />
                                </div>
                                <div class="search-item">
                                    <label for="name" class="control-label col-sm-0">采购单状态:</label>
                                    <input id="zhuangTai" class="mini-combobox" textField="text" valueField="value" ondrawcell="false" data='[{value:"0001",text:"草稿中"},{value:"0002",text:"已发注"},{value:"0003",text:"部分到货"},{value:"0004",text:"已到货"}]' />
                                </div>
                            </div>
                            <a class="mini-button btn btn-info btn-round btn-search" type="button">
                                <i class="ace-icon fa fa-search"> </i>查 询
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="mini-toolbar">
        <table style="width: 100%;">
            <tr>
                <td style="width: 100%;">
                    <a id="edit" class="mini-button btn btn-success btn-round" type="button" onclick="edit()">
                        <i class="ace-icon fa fa-pencil-square-o"> </i> 编辑
                    </a>
                    <a class="mini-button btn btn-danger btn-round" onclick="shanChu()">
                        <i class="ace-icon fa fa-times-circle"></i> 删除
                    </a>
                    <a id="lotOutput" class="mini-button btn btn-success btn-round" name="lotOutput" onclick="" type="button">
                        <i class="ace-icon fa fa-ban"></i> 入货完成
                    </a>

                    <a class="mini-button btn btn-success btn-round" onclick="">
                        <i class="ace-icon fa fa-print"></i> 采购单打印
                    </a>
                </td>
            </tr>
        </table>
    </div>
    <div class="mini-fit">
        <div id="grid1" class="mini-datagrid" idField="id" allowResize="false" allowCellSelect="true" multiSelect="false" editNextOnEnterKey="true" style="width: 100%; height: 100%;" onLoad="onLoad">
            <div property="columns">
                <div type="checkcolumn"></div>
                <div field="purchaseNo" width="80" headerAlign="center" sortField="caiGouDanHao" align="center">采购单号</div>
                <div field="prodNo" width="80" headerAlign="center" sortField="zhiLingShuHao" align="center">关联指令书号</div>
                <div field="purchaseType" width="80" headerAlign="center" sortField="caiGouZhongLei" align="center">采购类型</div>
                <div field="supplierName" width="150" headerAlign="center" sortField="gongYingShang" align="left">供应商</div>
                <div field="orderDay" width="80" headerAlign="center" sortField="xiaDanRi" align="center">下单日</div>
                <div field="orderUser" width="80" headerAlign="center" sortField="xiaDanYongHu" align="center">下单用户</div>
                <div field="totalMoneyNoTax" width="100" headerAlign="center" sortField="zongJinE" allowSort="false" datatype="currency" align="right">金额不含税</div>
                <div field="totalMoney" width="100" headerAlign="center" sortField="zongJinE" allowSort="false" datatype="currency" align="right">金额含税</div>
                <div field="zhuangTai" width="80" headerAlign="center" sortField="zhuangTai" align="center">采购单状态</div>
            </div>
        </div>
    </div>
    <script type="text/javascript">
        mini.parse();
        var grid = mini.get("grid1");
        var gridData = new Array();
        for (var i = 0; i < 15; i++) {
            gridData.push({
                purchaseNo: "<a id='meisai' onclick='edit();' >QH-S19205</a>",
                prodNo: "<a id='meisai' onclick='dingDan();' >HTJX-05BE-30</a>",
                purchaseType: "原材料采购",
                supplierName: "弘信商贸有限责任公司",
                orderDay: "2019/01/06",
                orderUser: "张三",
                xiWangDaoHuoRi: "2019/02/06",
                totalMoneyNoTax: "13274.43",
                totalMoney: "17000.00",
                zhuangTai: "已入库"
            });
        }
        grid.setData(gridData);

        function edit() {
            var popWindow = {
                url: "P0401PurchaseEdit.html",
                title: "采购订单创建和修改",
                width: 1100,
                height: 650,
                onload: function() {},
                ondestroy: function(action) {}
            };
            mini.open(popWindow);
        }

        function dingDan() {
            var popWindow = {
                url: "P0301ProdResultEdit.html",
                title: "制造指令书",
                width: 1100,
                height: 650,
                onload: function() {},
                ondestroy: function(action) {}
            };
            mini.open(popWindow);
        }
    </script>
</body>

</html>
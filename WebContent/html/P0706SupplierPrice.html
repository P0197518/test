<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta charset="utf-8" />
    <title>供应商价格管理</title>
    <script src="../boot.js" type="text/javascript"></script>
</head>

<body class="no-skin" onLoad="onLoad">
    <div class="main-container ace-save-state" id="main-container">
        <div class="main-content">
            <div class="main-content-inner">
                <!-- #section:basics/content.breadcrumbs -->
                <!-- /section:basics/content.breadcrumbs -->
                <div class="page-content">
                    <div class="widget-box">

                        <!-- /.page-header -->
                        <div class="widget-body">
                            <div class="widget-main">
                                <div class="search-item">
                                    <label for="name" class="control-label  col-sm-0">品名:</label>
                                    <input id="productName" name="productName" class="mini-textbox" onenter="search()" vtype="maxLength:30" />
                                </div>

                                <div class="search-item">
                                    <label for="name" class="control-label col-sm-0">产品编号:</label>
                                    <input id="drawingNumber" name="drawingNumber" class="mini-textbox" onenter="search()" vtype="maxLength:30" />
                                </div>
                                <div class="search-item">
                                    <label for="name" class="control-label col-sm-0">图纸编号:</label>
                                    <input id="drawingNumber" name="drawingNumber" class="mini-textbox" onenter="search()" vtype="maxLength:30" />
                                </div>
                                <div class="search-item">
                                    <label for="name" class="control-label col-sm-0">材质:</label>
                                    <input id="material" name="material" class="mini-textbox" onenter="search()" vtype="maxLength:30" />
                                </div>
                                <div class="search-item">
                                    <label for="name" class="control-label col-sm-0">供应商名:</label>
                                    <input id="supplyTradeName" name="supplyTradeName" class="mini-textbox" onenter="search()" vtype="maxLength:30" />
                                    <!-- <a class="mini-button btn btn-info btn-round" type="button" onclick="supplierSelect()" onenter="onOk()">
                                        <i class="ace-icon fa fa-search"> </i>
                                    </a> -->
                                </div>

                                <div class="search-item">
                                    <label for="name" class="control-label col-sm-0">单价:</label>
                                    <input id="price" name="price" class="mini-textbox" onenter="search()" vtype="maxLength:30" />
                                </div>

                                <a class="mini-button btn btn-info btn-round btn-search" type="button" onclick="search()" style="margin-left:20px;">
                                    <i class="ace-icon fa fa-search">
                                        </i> 查询
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- /.main-content -->
    <a href="#" id="btn-scroll-up" class="btn-scroll-up btn btn-sm btn-inverse">
        <i class="ace-icon fa fa-angle-double-up icon-only bigger-110">
				</i>
    </a>
    <!-- /.main-container -->
    <div class="mini-toolbar">
        <table style="width:100%;">
            <tr>
                <td style="width:100%;">
                    <a class="mini-button btn btn-success btn-round" onclick="add()" type="button">
                        <i class="ace-icon fa fa-plus-circle bigger-110">
							</i>添加
                    </a>
                    <a class="mini-button btn btn-success btn-round" onclick="edit()">
                        <i class="ace-icon fa fa-pencil-square-o">
							</i> 編集
                    </a>
                    <a class="mini-button btn btn-danger btn-round" onclick="removeItem()">
                        <i class="ace-icon fa fa-times-circle">
							</i> 削除
                    </a>
                </td>
            </tr>
        </table>
    </div>
    <div class="mini-fit">
        <div id="grid1" class="mini-datagrid" idField="id" allowResize="false"  allowCellSelect="true" multiSelect="false"  editNextOnEnterKey="true" style="width: 100%; height: 100%;"  onLoad="onLoad">
            <div property="columns">
                <div type="checkcolumn"></div>
                <div field="productName" width="160" headerAlign="center" align="left">品名</div>
                <div field="productNumber" width="120" headerAlign="center" align="center">产品编号</div>
                <div field="drawingNumber" width="120" headerAlign="center" align="center">图纸编号</div>
                <div field="material" width="80" headerAlign="center" align="center">材质</div>
                <div field="supplyTradeName" width="120" headerAlign="center" align="left">供应商</div>
                <div field="price" width="40" headerAlign="center" align="right" datatype="currency">单价</div>

            </div>
        </div>

    </div>
    <script type="text/javascript">
        mini.parse();
        var grid = mini.get("grid1");
        var gridData = new Array();
        for (var i = 1; i < 3; i++) {
            gridData.push({
                productName: "K-40FH肉無し50L",
                material: "TE60",
                drawingNumber: "E-3295",
                productNumber: "E-3295",
                supplyTradeName: "德强",
                price: "89900"

            }, {
                productName: "K-40FH肉無し50L",
                material: "TE60",
                drawingNumber: "E-3295",
                productNumber: "E-3295",
                supplyTradeName: "德强",
                price: "899"

            }, {
                productName: "K-40FH肉無し50L",
                material: "TE60",
                drawingNumber: "E-3295",
                productNumber: "E-3295",
                supplyTradeName: "德强",
                price: "899"

            }, {
                productName: "EP-70R-7(成形用ビット)",
                material: "TE63",
                drawingNumber: "E-3296",
                productNumber: "E-3296",
                supplyTradeName: "弘信",
                price: "500"


            }, {
                productName: "EP-70R-7(成形用ビット)",
                material: "TE63",
                drawingNumber: "E-3296",
                productNumber: "E-3296",
                supplyTradeName: "弘信",
                price: "500"


            }, {
                productName: "CH-40KIRS-T20+侧",
                material: "TE65",
                drawingNumber: "E-4021",
                productNumber: "E-4021",
                supplyTradeName: "双图",
                price: "500"


            }, {
                productName: "CH-40KIRS-T20+侧",
                material: "TE65",
                drawingNumber: "E-4021",
                productNumber: "E-4021",
                supplyTradeName: "双图",
                price: "500"


            });
        }


        grid.setData(gridData);

        function search() {}
        //添加
        function add() {
            var popWindow = {
                url: "P0706SupplierPriceEdit.html",
                title: "品目添加",
                width: 900,
                height: 300,
                onload: function() {},
                ondestroy: function(action) {}
            };
            mini.open(popWindow);
        }
        //编辑
        function edit() {
            var rows = grid.getSelecteds();
            if (rows.length == 1) {
                var row = grid.getSelected();
                mini.open({
                    title: "品目编辑",
                    url: "P0706SupplierPriceEdit.html",
                    width: 900,
                    height: 300,
                    onload: function() {},
                    ondestroy: function(action) {
                        if (action == "ok") {
                            grid.reload();
                            window.CloseOwnerWindow("ok");
                        }
                    }
                });
            } else {
                mini.alert("请选择一个记录");
            }
        }

        //删除
        function removeItem() {
            var rows = grid.getSelecteds();
            if (rows.length > 0) {
                grid.removeRows(rows, true);
                mini.alert("删除成功！");

                /*if (confirm("确定删除选中记录？")) {
                }*/
            } else {
                mini.alert("请选择一个记录");
            }
        }
        grid1.on("load", onLoad);

        function onLoad(e) {
            var grid1 = e.sender;

            var marges = [{
                rowIndex: 1,
                columnIndex: 0,
                rowSpan: 1,
                colSpan: 2
            }];

            grid1.mergeCells(marges);
        }
    </script>
</body>

</html>
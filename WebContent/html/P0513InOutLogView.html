<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <title>出入库记录列表</title>
    <script src="../boot.js" type="text/javascript"></script>
</head>

<body class="no-skin">
    <div class="main-container ace-save-state" id="main-container">
        <div class="main-content">
            <div class="main-content-inner">
                <div class="page-content">
                    <div class="widget-box">

                        <!-- /.page-header -->
                        <div class="widget-body" id="searchCondation">
                            <div class="widget-main">
                                <div class="search-item">
                                    <label for="name" class="control-label col-sm-0">出入库单号:</label>
                                    <input id="xiangguandingdan" name="mingChen" class="mini-textbox" onenter="search()" vtype="maxLength:30" />
                                </div>
                                <div class="search-item">
                                    <label for="name" class="control-label col-sm-0">出入库日期:</label>
                                    <input id="dateFeom" name="dateFeom" value="" class="mini-datepicker" datePickerTo="dateTo" format="yyyy/MM/dd" allowInput="true" showTime="false" showTodayButton="true" onenter="search()" />
                                    <label for="isusedate" class="control-label"> ～ </label>
                                    <input id="dateTo" name="dateTo" value="" class="mini-datepicker" datePickerFrom="dateFeom" showTime="false" format="yyyy/MM/dd" allowInput="true" showTodayButton="true" onenter="search()" />
                                </div>
                                <div class="search-item">
                                    <label for="name" class="control-label col-sm-0">图纸编号:</label>
                                    <input id="tuzhifanhao" name="MailEncoding" class="mini-textbox" textField="distingname" valueField="distingid" />
                                </div>
                                <div class="search-item">
                                    <label for="name" class="control-label col-sm-0">采购委外号:</label>
                                    <input id="tuzhifanhao" name="MailEncoding" class="mini-textbox" textField="distingname" valueField="distingid" />
                                </div>
                                <div class="search-item">
                                    <label for="name" class="control-label col-sm-0">订单编号:</label>
                                    <input id="tuzhifanhao" name="MailEncoding" class="mini-textbox" textField="distingname" valueField="distingid" />
                                </div>
                                <div class="search-item">
                                    <label for="name" class="control-label col-sm-0">指令书编号:</label>
                                    <input id="tuzhifanhao" name="MailEncoding" class="mini-textbox" textField="distingname" valueField="distingid" />
                                </div>
                                <div class="search-item">
                                    <label for="name" class="control-label col-sm-0">出入库类型:</label>
                                    <input id="stockType" class="mini-combobox" textField="text" valueField="value" ondrawcell="false" data='[{value:"",text:""},{value:"0002",text:"出库"},{value:"0003",text:"入库"}]' />
                                </div>

                                <div class="search-item">
                                    <label for="name" class="control-label col-sm-0">操作人:</label>
                                    <input id="caozuoren" name="MailEncoding" class="mini-textbox" textField="distingname" valueField="distingid" />
                                </div>
                            </div>

                            <a class="mini-button btn btn-info btn-round btn-search" type="button">
                                <i class="ace-icon fa fa-search">查 询</i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="mini-toolbar">
        <table style="width: 100%;">
            <tr>
                <td style="width: 100%;">

                    <a class="mini-button btn btn-success btn-round" onclick="edit()">
                        <i class="ace-icon fa fa-pencil-square-o"> </i> 编辑
                    </a>

                    <a class="mini-button btn btn-danger btn-round" onclick="remove()">
                        <i class="ace-icon fa fa-times-circle"> </i> 取消
                    </a>

                </td>
            </tr>
        </table>
    </div>
    <!-- 画面列表 -->
    <div class="mini-fit">
        <div id="grid1" class="mini-datagrid" idField="id" allowResize="false" allowCellSelect="true" multiSelect="false" editNextOnEnterKey="true" style="width: 100%; height: 100%;" sortField="t0020users.username" sortOrder="asc">
            <div property="columns">
                <div field="stockLot" width="80" headerAlign="center" sortField="xiangGuanDanHao" align="center">出入库单号</div>
                <div field="stockType" width="80" headerAlign="center" sortField="zaiKuShu" align="center">出入库类型</div>
                <div field="materialName" width="120" headerAlign="center" sortField="dingdanqufen" align="center">品名</div>
                <div field="texture" width="70" headerAlign="center" sortField="shangpinming" align="center">材质</div>
                <div field="drawingNo" width="80" headerAlign="center" sortField="dingdanleixing" align="center">图纸编号</div>
                <div field="productNo" width="80" headerAlign="center" sortField="dingdanleixing" align="center">品番</div>
                <div field="count" width="60" headerAlign="center" sortField="gongYingShang" renderer="onRenderer" align="right">数量</div>
                <div field="stockDate" width="80" headerAlign="center" sortField="ruKuRiQi" align="center">出入库时间</div>
                <div field="lotNo" width="80" headerAlign="center" sortField="dingdanleixing" align="center">lotNo</div>
                <div field="orderNo" width="80" headerAlign="center" sortField="ruKuRiQi" align="center">订单编号</div>
                <div field="purchaseNo" width="80" headerAlign="center" sortField="ruKuRiQi" align="center">采购号</div>
                <div field="workUser" width="80" headerAlign="center" sortField="beiKao" align="center">操作人</div>
                <div field="remark" width="150" headerAlign="center" sortField="beiKao" align="left">备考</div>
            </div>
        </div>
    </div>
    <script type="text/javascript">
        mini.parse();
        var grid = mini.get("grid1");

        var gridData = new Array();
        for (var i = 0; i < 10; i++) {
            gridData.push({
                stockLot: "OUT1901001",
                inOutType: "完成品",
                stockType: "完成品出库",
                drawingNo: "E-3823",
                texture: "TE60",
                productNo: "E-3823-TE60",
                materialName: "横型ｶｯﾀｰミル固定刃（600L）TH-1135-01",
                count: (40 + i) * (4 + i),
                stockDate: "2020/03/06",
                prodNo: "ZL2020255",
                purchaseNo: "CG2018366",
                orderNo: "SY-19001",
                lotNo: "QH-J19001",
                workUser: "赵钱孙",
                remarks: "出入库信息",
                type: "03"
            });
        }
        grid.setData(gridData);
        for (var i = 0; i < 10; i++) {
            gridData.push({
                stockLot: "IN1901001",
                inOutType: "完成品",
                stockType: "采购入库",
                drawingNo: "QH-受19562",
                texture: "TE80",
                productNo: "E-3823-TE60",
                materialName: "EP-70R-7(成形用ビット)",
                count: (40 + i) * (4 + i),
                stockDate: "2018/10/22",
                prodNo: "ZL2020255",
                purchaseNo: "QH-19001",
                orderNo: "",
                workUser: "刘张关",
                remarks: "出入库信息",
                type: "01"
            });
        }

        function onRenderer(e) {
            var content = e.value;
            var record = e.record;

            if (record.type == "01" || record.type == "02") {
                e.cellStyle = "color: #69AA46";
                return content;
            }
            if (record.type == "03" || record.type == "04") {
                e.cellStyle = "color: red";
                return -content;
            }



        }
    </script>
</body>

</html>
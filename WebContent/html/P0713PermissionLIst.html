<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <title>权限列表</title>
    <script src="../boot.js" type="text/javascript"></script>
    <script src="../ace/aceui/locale/ja_JP.js" type="text/javascript"></script>
</head>

<body class="no-skin" onload="loadfocus()">
    <div class="mini-toolbar">
        <table style="width: 100%;">
            <tr>
                <td style="width: 100%;">
                    <a class="mini-button btn btn-warning btn-round " name="add" onclick="add()" type="button">
                        <i class="ace-icon fa fa-plus-circle bigger-110"> </i> 添加
                    </a>
                    <a class="mini-button btn btn-success btn-round " name="edit" onclick="edit()">
                        <i class="ace-icon fa fa-pencil-square-o"> </i> 编辑
                    </a>
                    <a class="mini-button btn btn-danger btn-round " name="removeItem" onclick="removeItem()">
                        <i class="ace-icon fa fa-times-circle"> </i> 删除
                    </a>
                </td>
            </tr>
        </table>
    </div>
    <div class="mini-fit">
        <div id="grid1" class="mini-datagrid" headerAlign="center" idField="id" allowResize="false"  allowCellSelect="true" multiSelect="false"  editNextOnEnterKey="true" style="width: 100%; height: 100%;" sortOrder="asc">
            <div property="columns">
                <div type="checkcolumn">选择</div>
                <div field="name" name="name" width="80" headerAlign="center">权限名</div>
                <div field="description" name="description" width="320" headerAlign="center">说明</div>
            </div>
        </div>
    </div>
    <script type="text/javascript">
        mini.parse();
        var grid = mini.get("grid1");

        var gridData = new Array();

        for (var i = 0; i <= 5; i++) {

            gridData.push({
                name: "系统管理",
                description: "所有权限",
            });

        }

        grid.setData(gridData);


        // 添加操作
        function add() {
            /* var popupParam = openCommonPopupParam("/S9907Product/indexEdit",
                     "添加产品");
             popupParam.ondestroy = function(action) {
                 if (action == "ok") {
                     grid.reload();
                 }
             };
             mini.open(popupParam);*/
            var popWindow = {
                url: "P0714PermissionEdit.html",
                title: "权限添加",
                width: 850,
                height: 600,
                onload: function() {},
                ondestroy: function(action) {}
            };
            mini.open(popWindow);
        }



        // 编辑操作
        function edit() {

            /*var rows = grid.getSelecteds();
            if (rows.length == 1) {
                var row = grid.getSelected();
                var popupParam = openCommonPopupParam(
                        "/S9907Product/indexEdit?id=" + row.id, "编辑用户");
                popupParam.ondestroy = function(action) {
                    if (action == "ok") {
                        grid.reload();
                    }
                };
                mini.open(popupParam);
            } else {
                mini.alert(businessMessage.get("E0006"));
            }*/


            var popWindow = {
                url: "P0714PermissionEdit.html",
                title: "权限编辑",
                width: 850,
                height: 600,
                onload: function() {},
                ondestroy: function(action) {}
            };
            mini.open(popWindow);
        }

        // 删除操作
        function removeItem() {
            var rows = grid.getSelecteds();
            if (rows.length > 0) {

                /*businessMessage.alert("Q0001",null,function(){
                    doAjax("/S9907Product/delete",rows[0],function(obj){
                        if(obj.status == "SUCCESS"){
                            businessMessage.alert(obj.text);
                            grid.reload();
                        }else{
                            businessMessage.alert(obj.text);
                        };
                    });
                });*/
            } else {
                mini.alert("请选择一个数据")
            };
        }

        // 焦点设置
        function loadfocus() {
            setTimeout(function() {
                mini.get("productcd").focus();
            }, 0)
        }
    </script>
</body>

</html>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <title>采购委外入货</title>
    <script src="../boot.js" type="text/javascript"></script>
</head>

<body class="no-skin">
    <div class="edit-page-content">
        <div id="form1" class="form-horizontal">
            <div>
                <div class="tab-content profile-edit-tab-content">
                    <div id="edit-basic" class="tab-pane in active">
                        <h4 class="header blue bolder smaller">基本信息</h4>
                        <div>
                            <div class="form-group">
                                <label for="name" class="control-label col-sm-1">供应商:</label>
                                <div class="col-sm-4">
                                    <input id="orderNumber" name="supplier" style="width:50px;" required class="mini-textbox" onenter="search()" vtype="maxLength:30" />
                                    <a class="mini-button btn btn-info btn-round " type="button" onclick="search2()">
                                        <i class="ace-icon fa fa-search"> </i>
                                    </a>
                                    <input name="supplierName" id="supplierName" class="mini-textbox" value="" enabled="false" vtype="maxLength:30" required="true" requiredErrorText="不能为空" onenter="onOk()" />
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="name" class="control-label col-sm-1">入货人:</label>
                                <div class="col-sm-2">
                                    <input id="invoiceNo" enabled="false" class="mini-textbox" textField="text" required="ture" valueField="value" />
                                </div>
                                <div class="search-item">
                                    <label for="name" class="control-label col-sm-0">入货时间:</label>
                                    <input id="dateFrom" name="dateFrom" value="" required="true" class="mini-datepicker" datePickerTo="dateTo" format="yyyy/MM/dd" allowInput="true" showTime="false" showTodayButton="true" onenter="search()" />
                                </div>

                            </div>
                        </div>
                    </div>
                    <h4 class="header blue bolder smaller">待入库物流列表</h4>
                    <div class="vspace-12-sm"></div>
                    <div class="space-4"></div>
                    <div class="">
                        <div class="mini-toolbar">
                            <table style="width:100%;">
                                <tr>
                                    <td style="width:100%;">
                                        <div class="search-item">
                                            <label for="name" class="control-label col-sm-0">图纸编号:</label>
                                            <input id="Fax" name="Fax" class="mini-textbox" style="width:100px;" />
                                        </div>
                                        <div class="search-item">
                                            <label for="name" class="control-label col-sm-0">采购单号:</label>
                                            <input id="Fax" name="Fax" class="mini-textbox" style="width:100px;" />
                                        </div>
                                        <div class="search-item">
                                            <label for="name" class="control-label col-sm-0">计划时间:</label>
                                            <input id="dateFrom" name="dateFrom" value="" style="width:100px;" class="mini-datepicker" datePickerTo="dateTo" format="yyyy/MM/dd" allowInput="true" showTime="false" showTodayButton="true" onenter="search()" />
                                            <label for="isusedate" class="control-label"> ～ </label>
                                            <input id="dateTo" name="dateTo" value="" style="width:100px;" class="mini-datepicker" datePickerFrom="dateFrom" showTime="false" format="yyyy/MM/dd" allowInput="true" showTodayButton="true" onenter="search()" />
                                        </div>

                                    </td>
                                </tr>
                            </table>
                        </div>
                        <div id="grid1" class="mini-datagrid" allowCellEdit="true" idField="id" allowResize="false" skipReadOnlyCell="true" allowCellSelect="true" multiSelect="false" editNextOnEnterKey="true" sortOrder="asc" showPager="false">
                            <div property="columns">
                                <div type="checkcolumn"></div>
                                <div field="orderNo" width="80" headerAlign="center" sortField="jan" allowSort="false" align="center"> 采购单号</div>
                                <div field="prodNo" width="80" headerAlign="center" sortField="jan" allowSort="false" align="center"> 指令书号</div>
                                <div field="materialName" width="120" headerAlign="center" allowSort="false" align="center">品名</div>
                                <div field="texture" width="80" headerAlign="center" allowSort="false" align="center">材质</div>
                                <div field="drawingNo" width="80" headerAlign="center" allowSort="false" align="center">图纸编号</div>
                                <div field="buyCount" width="60" headerAlign="center" sortField="money" allowSort="false" align="right">采购数量</div>
                                <div field="inCount" width="60" headerAlign="center" sortField="money" allowSort="false" align="right">已入库数量</div>
                            </div>
                        </div>
                        <div class="mini-toolbar">
                            <table style="width:100%;">
                                <tr>
                                    <td style="width:100%;">
                                        <a class="mini-button" iconCls="icon-addnew" onclick="addAll()" plain="true"></i>加入采购</a>
                                        <span class="separator"></span>

                                        <a class="mini-button" iconCls="icon-remove" onclick="removeRow()" plain="true">删除</a>
                                    </td>
                                </tr>
                            </table>
                        </div>

                        <div class="">
                            <div id="grid2" class="mini-datagrid" idField="id" multiSelect="true" skipReadOnlyCell="true" showPager="false" allowCellEdit="true" allowCellSelect="true">
                                <div property="columns">
                                    <div type="checkcolumn"></div>
                                    <div field="orderNo" width="80" headerAlign="center" sortField="jan" allowSort="false" align="center"> 采购单号</div>
                                    <div field="prodNo" width="80" headerAlign="center" sortField="jan" allowSort="false" align="center"> 指令书号</div>
                                    <div field="materialName" width="120" headerAlign="center" allowSort="false" align="center">品名</div>
                                    <div field="texture" width="80" headerAlign="center" allowSort="false" align="center">材质</div>
                                    <div field="drawingNo" width="80" headerAlign="center" allowSort="false" align="center">图纸编号</div>
                                    <div field="buyCount" width="60" headerAlign="center" sortField="money" allowSort="false" align="right">计划数量</div>
                                    <div field="inCount" width="60" headerAlign="center" sortField="money" allowSort="false" align="right">已入库数量</div>
                                    <div field="nowCount" width="70" headerAlign="center" sortField="money" allowSort="false" datatype="currency" align="right">
                                        入库数量&nbsp;<i class="ace-icon fa fa-pencil-square-o"></i>
                                        <input property="editor" class="mini-textbox" style="width:100%;" />
                                    </div>
                                    <div field="backCount" width="70" headerAlign="center" sortField="money" allowSort="false" align="right">
                                        返回数量&nbsp;<i class="ace-icon fa fa-pencil-square-o"></i>
                                        <input property="editor" class="mini-textbox" style="width:100%;" />
                                    </div>
                                    <div field="price" width="70" headerAlign="center" sortField="money" allowSort="false" align="right">
                                        单价含税&nbsp;<i class="ace-icon fa fa-pencil-square-o"></i>
                                        <input property="editor" class="mini-textbox" style="width:100%;" />
                                    </div>
                                    <div field="outprice" width="70" headerAlign="center" sortField="money" allowSort="false" align="right">
                                        加工费&nbsp;<i class="ace-icon fa fa-pencil-square-o"></i>
                                        <input property="editor" class="mini-textbox" style="width:100%;" />
                                    </div>
                                    <div field="remark" width="150" headerAlign="center" sortField="money" allowSort="false" align="left">备注&nbsp;<i class="ace-icon fa fa-pencil-square-o"></i>
                                        <input property="editor" class="mini-textbox" style="width:100%;" />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <div style="text-align:center;padding:10px;">
                <a class="mini-button btn btn-info btn-round" onclick="saveDraft()" type="button">
                    <i class="ace-icon fa fa-floppy-o bigger-110"></i> 入库
                </a> &nbsp; &nbsp;
            </div>
        </div>
    </div>
    <script text="text/javascript">
        mini.parse();
        var grid = mini.get("grid1");
        var grid2 = mini.get("grid2");
        var gridData = new Array();
        for (var i = 0; i < 10; i++) {
            gridData.push({
                orderNo: "QH-J19001",
                prodNo: "SY-J19001",
                drawingNo: "E-3295",
                materialName: "固定刃 560-191.03-38   SKC24",
                texture: "TE60",
                buyCount: 300,
                inCount: 100,
                nowCount: 200,
                backCount: 0,
                price: 255,
                remark: "采购委外入库"

            });
        }
        grid.setData(gridData);


        function addRow() {
            var newRow = {
                name: "New Row"
            };
            grid.addRow(newRow, grid.getData().length);
            grid.beginEditCell(newRow, "LoginName");
        }

        function removeRow() {
            var rows = grid2.getSelecteds();
            if (rows.length > 0) {

                grid.removeRows(rows, true);
            } else {
                mini.alert("没有可删除的数据")
            }
        }
    </script>
</body>

</html>